<div class="product-table p-2">
  <p-table [value]="products" [paginator]="true" [rows]="rowsPerPage" [totalRecords]="totalRecords"
  (onPage)="paginate($event)" class="p-datatable">
  <ng-template pTemplate="header">
    <tr>
      <th >ID</th>
      <th>Title</th>
      <th>Category</th>
      <th>Price</th>
      <th>Discount Percentage</th>
      <th>Rating</th>
      <th>Stock</th>
      <th>Tags</th>
      <th>Brand</th>
      <th>SKU</th>
    </tr>
  </ng-template>
  <ng-template pTemplate="body" let-rowIndex="rowIndex" let-product>
    <tr>
      <td [ngClass]="{'selected-cell': isCellSelected(rowIndex, 'id')}" (click)="onCellClick(rowIndex, 'id')">
        {{product.id}}</td>
      <td [ngClass]="{'selected-cell': isCellSelected(rowIndex, 'title')}" (click)="onCellClick(rowIndex, 'title')">
        {{product.title}}</td>
      <td [ngClass]="{'selected-cell': isCellSelected(rowIndex, 'category')}"
        (click)="onCellClick(rowIndex, 'category')">{{product.category}}</td>
      <td [ngClass]="{'selected-cell': isCellSelected(rowIndex, 'price')}" (click)="onCellClick(rowIndex, 'price')">
        {{product.price}}</td>
      <td [ngClass]="{'selected-cell': isCellSelected(rowIndex, 'discountPercentage')}"
        (click)="onCellClick(rowIndex, 'discountPercentage')">{{product.discountPercentage}}%</td>
      <td [ngClass]="{'selected-cell': isCellSelected(rowIndex, 'rating')}" (click)="onCellClick(rowIndex, 'rating')">
        {{product.rating}}</td>
      <td [ngClass]="{'selected-cell': isCellSelected(rowIndex, 'stock')}" (click)="onCellClick(rowIndex, 'stock')">
        {{product.stock}}</td>
      <td [ngClass]="{'selected-cell': isCellSelected(rowIndex, 'tags')}" (click)="onCellClick(rowIndex, 'tags')">
        {{product.tags.join(', ')}}</td>
      <td [ngClass]="{'selected-cell': isCellSelected(rowIndex, 'brand')}" (click)="onCellClick(rowIndex, 'brand')">
        {{product.brand}}</td>
      <td [ngClass]="{'selected-cell': isCellSelected(rowIndex, 'sku')}" (click)="onCellClick(rowIndex, 'sku')">
        {{product.sku}}</td>
    </tr>
  </ng-template>
</p-table>

<div class="p-paginator-info">
  Showing {{paginatedProducts.length}} from {{totalRecords}} data
</div>
</div>
